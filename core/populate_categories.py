from .models import Category

def create_categories():
    categories = {
        "Одежда": {
            "Женская одежда": ["Платья", "Юбки", "Блузки", "Брюки", "Верхняя одежда", "Футболки", "Пиджаки", "Джинсы"],
            "Мужская одежда": ["Рубашки", "Брюки", "Куртки", "Костюмы", "Футболки", "Пиджаки", "Джинсы"],
            "Детская одежда": ["Для девочек", "Для мальчиков"]
        },
        "Обувь": {
            "Женская обувь": ["Кроссовки", "Босоножки", "Сапоги", "Балетки"],
            "Мужская обувь": ["Кроссовки", "Ботинки", "Туфли"],
            "Детская обувь": []
        },
        "Электроника": {
            "": ["Смартфоны", "Ноутбуки и ПК", "Аксессуары"],
            "Аксессуары": ["Наушники", "Кабели", "Зарядные устройства", "Чехлы"]
        },
        "Книги": {
            "": ["Художественная литература", "Учебники", "Детские книги", "Саморазвитие", "Комиксы и манга"]
        },
        "Для дома": {
            "Мебель": ["Столы", "Стулья", "Кровати", "Шкафы"],
            "Текстиль": ["Шторы", "Пледы", "Постельное белье", "Полотенца"],
            "Декор": ["Картины", "Вазы", "Свечи"]
        },
        "Косметика и уход": {
            "": ["Макияж", "Уход за кожей", "Уход за волосами", "Аксессуары"]
        },
        "Ручная работа (Handmade)": {
            "": ["Украшения", "Одежда", "Аксессуары", "Декор"]
        },
        "Для учебы": {
            "": ["Канцелярия", "Рюкзаки и сумки", "Электроника"]
        },
        "Прочее": {
            "": ["Игрушки", "Хобби и творчество", "Аксессуары для животных"]
        }
    }

    def add_category(name, parent=None):
        cat, created = Category.objects.get_or_create(name=name, parent=parent)
        return cat

    for top, sub in categories.items():
        top_cat = add_category(top)
        for mid, bottoms in sub.items():
            if mid:
                mid_cat = add_category(mid, parent=top_cat)
                for bottom in bottoms:
                    add_category(bottom, parent=mid_cat)
            else:
                for bottom in bottoms:
                    add_category(bottom, parent=top_cat)
