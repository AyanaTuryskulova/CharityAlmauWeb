{% extends 'base.html' %}
{% load static %}

{% block title %}–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å{% endblock %}

{% block extra_css %}
<style>
    body {
        background: linear-gradient(135deg, #024080 0%, #0d5fa3 100%);
        overflow: hidden;
        margin: 0;
        padding: 0;
    }

    .onboarding-container {
        height: calc(100vh - 60px);
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        position: relative;
        overflow: hidden;
        width: 100%;
    }

    .onboarding-slides {
        position: relative;
        display: flex;
        width: 100%;
        height: 100%;
        justify-content: center;
        align-items: center;
    }

    .onboarding-slide {
        width: 100%;
        height: 100%;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        text-align: center;
        padding: 60px 20px;
        flex-shrink: 0;
        position: fixed;
        left: 50%;
        top: 50%;
        transform: translate(-50%, -50%);
        opacity: 0;
        pointer-events: none;
        transition: opacity 0.5s ease-in-out;
        width: 100%;
        box-sizing: border-box;
    }

    .onboarding-slide.active {
        opacity: 1;
        pointer-events: auto;
    }

    .slide-content {
        max-width: 650px;
        width: 100%;
        margin: 0 auto;
    }

    .slide-icon {
        font-size: 80px;
        margin-bottom: 30px;
        animation: bounce 2s infinite;
    }

    @keyframes bounce {
        0%, 100% { transform: translateY(0); }
        50% { transform: translateY(-20px); }
    }

    .onboarding-slide h2 {
        font-size: 32px;
        color: white;
        margin: 0 0 20px 0;
        font-weight: 700;
    }

    .onboarding-slide p {
        font-size: 16px;
        color: rgba(255, 255, 255, 0.9);
        line-height: 1.6;
        margin: 0 0 15px 0;
    }

    .slide-features {
        text-align: left;
        display: inline-block;
        margin: 20px 0;
    }

    .feature-item {
        display: flex;
        align-items: center;
        gap: 15px;
        margin: 12px 0;
        font-size: 15px;
        color: rgba(255, 255, 255, 0.85);
    }

    .feature-icon {
        font-size: 24px;
        min-width: 30px;
    }

    .controls {
        position: fixed;
        bottom: 40px;
        left: 50%;
        transform: translateX(-50%);
        display: flex;
        gap: 20px;
        align-items: center;
        z-index: 10;
    }

    .btn-nav {
        padding: 10px 20px;
        background: rgba(255, 255, 255, 0.2);
        border: 2px solid white;
        border-radius: 8px;
        color: white;
        font-size: 14px;
        cursor: pointer;
        font-weight: 600;
        transition: all 0.3s ease;
        display: flex;
        align-items: center;
        gap: 8px;
    }

    .btn-nav:hover:not(:disabled) {
        background: white;
        color: #024080;
        transform: scale(1.05);
    }

    .btn-nav:disabled {
        opacity: 0.3;
        cursor: not-allowed;
    }

    .slide-counter {
        color: white;
        font-size: 14px;
        font-weight: 600;
        min-width: 60px;
        text-align: center;
    }

    .progress-dots {
        display: flex;
        gap: 10px;
        margin-top: 20px;
        justify-content: center;
        flex-wrap: wrap;
    }

    .dot {
        width: 10px;
        height: 10px;
        border-radius: 50%;
        background: rgba(255, 255, 255, 0.4);
        cursor: pointer;
        transition: all 0.3s ease;
    }

    .dot.active {
        background: white;
        width: 24px;
        border-radius: 5px;
    }

    .btn-start {
        padding: 14px 40px;
        background: white;
        border: none;
        border-radius: 8px;
        color: #024080;
        font-size: 16px;
        font-weight: 700;
        cursor: pointer;
        transition: all 0.3s ease;
        margin-top: 20px;
    }

    .btn-start:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
    }

    @media (max-width: 768px) {
        .onboarding-slide h2 {
            font-size: 24px;
        }

        .onboarding-slide p {
            font-size: 14px;
        }

        .slide-icon {
            font-size: 60px;
        }

        .slide-content {
            max-width: 100%;
        }

        .controls {
            bottom: 30px;
            gap: 10px;
            flex-wrap: wrap;
        }

        .btn-nav {
            padding: 8px 16px;
            font-size: 12px;
        }
    }
</style>

{% endblock %}

{% block content %}
<div class="onboarding-container">
    <div class="onboarding-slides" id="slides">
        <!-- –°–ª–∞–π–¥ 1: –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ -->
        <div class="onboarding-slide">
            <div class="slide-content">
                <div class="slide-icon">üëã</div>
                <h2>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –Ω–∞ CharityAlmaU</h2>
                <p>–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ ALMAU –¥–ª—è –æ–±–º–µ–Ω–∞ –≤–µ—â–∞–º–∏, –∞—Ä–µ–Ω–¥—ã –∏ –≤–∑–∞–∏–º–æ–ø–æ–º–æ—â–∏</p>
                <div class="progress-dots">
                    <div class="dot active" onclick="goToSlide(0)"></div>
                    <div class="dot" onclick="goToSlide(1)"></div>
                    <div class="dot" onclick="goToSlide(2)"></div>
                    <div class="dot" onclick="goToSlide(3)"></div>
                    <div class="dot" onclick="goToSlide(4)"></div>
                    <div class="dot" onclick="goToSlide(5)"></div>
                    <div class="dot" onclick="goToSlide(6)"></div>
                </div>
            </div>
        </div>

        <!-- –°–ª–∞–π–¥ 2: –ì–ª–∞–≤–Ω–∞—è –ª–µ–Ω—Ç–∞ -->
        <div class="onboarding-slide">
            <div class="slide-content">
                <div class="slide-icon">üì±</div>
                <h2>–ì–ª–∞–≤–Ω–∞—è –ª–µ–Ω—Ç–∞</h2>
                <p>–ó–¥–µ—Å—å –≤—ã –Ω–∞–π–¥–µ—Ç–µ –≤—Å–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è –æ—Ç –¥—Ä—É–≥–∏—Ö —Å—Ç—É–¥–µ–Ω—Ç–æ–≤</p>
                <div class="slide-features">
                    <div class="feature-item">
                        <span class="feature-icon">üîç</span>
                        <span>–§–∏–ª—å—Ç—Ä—É–π—Ç–µ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º</span>
                    </div>
                    <div class="feature-item">
                        <span class="feature-icon">üí¨</span>
                        <span>–°–≤—è–∂–∏—Ç–µ—Å—å —Å –∞–≤—Ç–æ—Ä–æ–º –æ–±—ä—è–≤–ª–µ–Ω–∏—è</span>
                    </div>
                    <div class="feature-item">
                        <span class="feature-icon">‚≠ê</span>
                        <span>–ü—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞–π—Ç–µ –¥–µ—Ç–∞–ª–∏ —Ç–æ–≤–∞—Ä–∞</span>
                    </div>
                </div>
                <div class="progress-dots">
                    <div class="dot" onclick="goToSlide(0)"></div>
                    <div class="dot active" onclick="goToSlide(1)"></div>
                    <div class="dot" onclick="goToSlide(2)"></div>
                    <div class="dot" onclick="goToSlide(3)"></div>
                    <div class="dot" onclick="goToSlide(4)"></div>
                    <div class="dot" onclick="goToSlide(5)"></div>
                    <div class="dot" onclick="goToSlide(6)"></div>
                </div>
            </div>
        </div>

        <!-- –°–ª–∞–π–¥ 3: –°–æ–∑–¥–∞–Ω–∏–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è -->
        <div class="onboarding-slide">
            <div class="slide-content">
                <div class="slide-icon">‚ûï</div>
                <h2>–°–æ–∑–¥–∞–Ω–∏–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è</h2>
                <p>–ü–æ–¥–µ–ª–∏—Ç–µ—Å—å —Å–≤–æ–∏–º–∏ –≤–µ—â–∞–º–∏ —Å –¥—Ä—É–≥–∏–º–∏ —Å—Ç—É–¥–µ–Ω—Ç–∞–º–∏</p>
                <div class="slide-features">
                    <div class="feature-item">
                        <span class="feature-icon">üì∏</span>
                        <span>–ó–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–æ—Ç–æ —Ç–æ–≤–∞—Ä–∞</span>
                    </div>
                    <div class="feature-item">
                        <span class="feature-icon">üìù</span>
                        <span>–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –æ–ø–∏—Å–∞–Ω–∏–µ</span>
                    </div>
                    <div class="feature-item">
                        <span class="feature-icon">üè∑Ô∏è</span>
                        <span>–í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é</span>
                    </div>
                    <div class="feature-item">
                        <span class="feature-icon">üì§</span>
                        <span>–û–ø—É–±–ª–∏–∫—É–π—Ç–µ –æ–±—ä—è–≤–ª–µ–Ω–∏–µ</span>
                    </div>
                </div>
                <div class="progress-dots">
                    <div class="dot" onclick="goToSlide(0)"></div>
                    <div class="dot" onclick="goToSlide(1)"></div>
                    <div class="dot active" onclick="goToSlide(2)"></div>
                    <div class="dot" onclick="goToSlide(3)"></div>
                    <div class="dot" onclick="goToSlide(4)"></div>
                    <div class="dot" onclick="goToSlide(5)"></div>
                    <div class="dot" onclick="goToSlide(6)"></div>
                </div>
            </div>
        </div>

        <!-- –°–ª–∞–π–¥ 4: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è–º–∏ -->
        <div class="onboarding-slide">
            <div class="slide-content">
                <div class="slide-icon">üìã</div>
                <h2>–ú–æ–∏ –æ–±—ä—è–≤–ª–µ–Ω–∏—è</h2>
                <p>–£–ø—Ä–∞–≤–ª—è–π—Ç–µ –≤—Å–µ–º–∏ —Å–≤–æ–∏–º–∏ –ø—É–±–ª–∏–∫–∞—Ü–∏—è–º–∏ –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ</p>
                <div class="slide-features">
                    <div class="feature-item">
                        <span class="feature-icon">üëÅÔ∏è</span>
                        <span>–ü—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞–π—Ç–µ —Å—Ç–∞—Ç—É—Å –∫–∞–∂–¥–æ–≥–æ –æ–±—ä—è–≤–ª–µ–Ω–∏—è</span>
                    </div>
                    <div class="feature-item">
                        <span class="feature-icon">‚úèÔ∏è</span>
                        <span>–†–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é</span>
                    </div>
                    <div class="feature-item">
                        <span class="feature-icon">üóëÔ∏è</span>
                        <span>–£–¥–∞–ª—è–π—Ç–µ –Ω–µ–Ω—É–∂–Ω—ã–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è</span>
                    </div>
                </div>
                <div class="progress-dots">
                    <div class="dot" onclick="goToSlide(0)"></div>
                    <div class="dot" onclick="goToSlide(1)"></div>
                    <div class="dot" onclick="goToSlide(2)"></div>
                    <div class="dot active" onclick="goToSlide(3)"></div>
                    <div class="dot" onclick="goToSlide(4)"></div>
                    <div class="dot" onclick="goToSlide(5)"></div>
                    <div class="dot" onclick="goToSlide(6)"></div>
                </div>
            </div>
        </div>

        <!-- –°–ª–∞–π–¥ 5: –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞—è–≤–æ–∫ -->
        <div class="onboarding-slide">
            <div class="slide-content">
                <div class="slide-icon">üìÆ</div>
                <h2>–°—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞—è–≤–æ–∫</h2>
                <p>–£–ø—Ä–∞–≤–ª—è–π—Ç–µ –≤—Å–µ–º–∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è–º–∏ –∏ –∑–∞–ø—Ä–æ—Å–∞–º–∏ –æ—Ç –¥—Ä—É–≥–∏—Ö —Å—Ç—É–¥–µ–Ω—Ç–æ–≤</p>
                <div class="slide-features">
                    <div class="feature-item">
                        <span class="feature-icon">üì®</span>
                        <span>–ü—Ä–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –≤—Ö–æ–¥—è—â–∏–µ –∑–∞—è–≤–∫–∏</span>
                    </div>
                    <div class="feature-item">
                        <span class="feature-icon">‚úÖ</span>
                        <span>–ü—Ä–∏–Ω–∏–º–∞–π—Ç–µ –∏–ª–∏ –æ—Ç–∫–ª–æ–Ω—è–π—Ç–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è</span>
                    </div>
                    <div class="feature-item">
                        <span class="feature-icon">üìä</span>
                        <span>–û—Ç—Å–ª–µ–∂–∏–≤–∞–π—Ç–µ —Å—Ç–∞—Ç—É—Å –∫–∞–∂–¥–æ–π –∑–∞—è–≤–∫–∏</span>
                    </div>
                </div>
                <div class="progress-dots">
                    <div class="dot" onclick="goToSlide(0)"></div>
                    <div class="dot" onclick="goToSlide(1)"></div>
                    <div class="dot" onclick="goToSlide(2)"></div>
                    <div class="dot" onclick="goToSlide(3)"></div>
                    <div class="dot active" onclick="goToSlide(4)"></div>
                    <div class="dot" onclick="goToSlide(5)"></div>
                    <div class="dot" onclick="goToSlide(6)"></div>
                </div>
            </div>
        </div>

        <!-- –°–ª–∞–π–¥ 6: –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∞—Ä–µ–Ω–¥—ã -->
        <div class="onboarding-slide">
            <div class="slide-content">
                <div class="slide-icon">üè†</div>
                <h2>–ê—Ä–µ–Ω–¥–∞</h2>
                <p>–°–¥–∞–≤–∞–π—Ç–µ –∏–ª–∏ –±–µ—Ä–∏—Ç–µ –≤ –∞—Ä–µ–Ω–¥—É –≤–µ—â–∏ —É –¥—Ä—É–≥–∏—Ö —Å—Ç—É–¥–µ–Ω—Ç–æ–≤</p>
                <div class="slide-features">
                    <div class="feature-item">
                        <span class="feature-icon">üîë</span>
                        <span>–†–∞–∑–º–µ—â–∞–π—Ç–µ –≤–µ—â–∏ –≤ –∞—Ä–µ–Ω–¥—É</span>
                    </div>
                </div>
                <div class="progress-dots">
                    <div class="dot" onclick="goToSlide(0)"></div>
                    <div class="dot" onclick="goToSlide(1)"></div>
                    <div class="dot" onclick="goToSlide(2)"></div>
                    <div class="dot" onclick="goToSlide(3)"></div>
                    <div class="dot" onclick="goToSlide(4)"></div>
                    <div class="dot active" onclick="goToSlide(5)"></div>
                    <div class="dot" onclick="goToSlide(6)"></div>
                </div>
            </div>
        </div>

        <!-- –°–ª–∞–π–¥ 7: –û–±—â–µ–Ω–∏–µ –∏ –ø–æ–º–æ—â—å -->
        <div class="onboarding-slide">
            <div class="slide-content">
                <div class="slide-icon">üí¨</div>
                <h2>–°–≤—è–∑—å –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞</h2>
                <p>–õ–µ–≥–∫–æ –æ–±—â–∞–π—Ç–µ—Å—å —Å –¥—Ä—É–≥–∏–º–∏ —Å—Ç—É–¥–µ–Ω—Ç–∞–º–∏</p>
                <div class="slide-features">
                    <div class="feature-item">
                        <span class="feature-icon">üíå</span>
                        <span>–û—Ç–ø—Ä–∞–≤–ª—è–π—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏—è –Ω–∞–ø—Ä—è–º—É—é</span>
                    </div>
                    <div class="feature-item">
                        <span class="feature-icon">ü§ù</span>
                        <span>–î–æ–≥–æ–≤–∞—Ä–∏–≤–∞–π—Ç–µ—Å—å –æ–± –æ–±–º–µ–Ω–µ –∏–ª–∏ –¥–∞—Ä–µ–Ω–∏–∏</span>
                    </div>
                    <div class="feature-item">
                        <span class="feature-icon">üìß</span>
                        <span>–°–≤—è–∂–∏—Ç–µ—Å—å —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –µ—Å–ª–∏ –Ω—É–∂–Ω–∞ –ø–æ–º–æ—â—å</span>
                    </div>
                </div>
                <div class="progress-dots">
                    <div class="dot" onclick="goToSlide(0)"></div>
                    <div class="dot" onclick="goToSlide(1)"></div>
                    <div class="dot" onclick="goToSlide(2)"></div>
                    <div class="dot" onclick="goToSlide(3)"></div>
                    <div class="dot" onclick="goToSlide(4)"></div>
                    <div class="dot" onclick="goToSlide(5)"></div>
                    <div class="dot active" onclick="goToSlide(6)"></div>
                </div>
            </div>
        </div>
    </div>

    <div class="controls">
        <button class="btn-nav" id="prevBtn" onclick="previousSlide()">
            ‚Üê –ù–∞–∑–∞–¥
        </button>
        <span class="slide-counter">
            <span id="currentSlide">1</span> / 7
        </span>
        <button class="btn-nav" id="nextBtn" onclick="nextSlide()">
            –î–∞–ª–µ–µ ‚Üí
        </button>
    </div>
</div>

<!-- –ö–Ω–æ–ø–∫–∞ —Å—Ç–∞—Ä—Ç–∞ –≤ –∫–æ–Ω—Ü–µ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —Å–ª–∞–π–¥–∞ (–¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ JavaScript) -->
<script>
    let currentSlide = 0;
    const totalSlides = 7;
    const slidesContainer = document.getElementById('slides');
    const prevBtn = document.getElementById('prevBtn');
    const nextBtn = document.getElementById('nextBtn');
    const currentSlideSpan = document.getElementById('currentSlide');

    function goToSlide(index) {
        currentSlide = index;
        updateSlides();
    }

    function nextSlide() {
        if (currentSlide < totalSlides - 1) {
            currentSlide++;
            updateSlides();
        } else {
            startApp();
        }
    }

    function previousSlide() {
        if (currentSlide > 0) {
            currentSlide--;
            updateSlides();
        }
    }

    function updateSlides() {
        // –ò–∑–º–µ–Ω—è–µ–º –≤–∏–¥–∏–º–æ—Å—Ç—å —Å–ª–∞–π–¥–æ–≤ —á–µ—Ä–µ–∑ –∫–ª–∞—Å—Å active
        document.querySelectorAll('.onboarding-slide').forEach((slide, index) => {
            if (index === currentSlide) {
                slide.classList.add('active');
            } else {
                slide.classList.remove('active');
            }
        });
        currentSlideSpan.textContent = currentSlide + 1;

        prevBtn.disabled = currentSlide === 0;
        
        if (currentSlide === totalSlides - 1) {
            nextBtn.textContent = '–ù–∞—á–∞—Ç—å ‚úì';
            nextBtn.onclick = startApp;
        } else {
            nextBtn.textContent = '–î–∞–ª–µ–µ ‚Üí';
            nextBtn.onclick = nextSlide;
            nextBtn.disabled = false;
        }

        // –û–±–Ω–æ–≤–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—É—é —Ç–æ—á–∫—É
        document.querySelectorAll('.dot').forEach((dot, index) => {
            dot.classList.toggle('active', index === currentSlide);
        });
    }

    function startApp() {
        // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Ñ–æ—Ä–º—É –¥–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è onboarding
        const form = document.createElement('form');
        form.method = 'post';
        form.action = '{% url "onboarding" %}';
        
        const csrf = document.querySelector('[name=csrfmiddlewaretoken]');
        if (csrf) {
            form.appendChild(csrf.cloneNode(true));
        }
        
        document.body.appendChild(form);
        form.submit();
    }

    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
    updateSlides();

    // –ù–∞–≤–∏–≥–∞—Ü–∏—è –∫–ª–∞–≤–∏–∞—Ç—É—Ä–æ–π
    document.addEventListener('keydown', (e) => {
        if (e.key === 'ArrowLeft') previousSlide();
        if (e.key === 'ArrowRight') nextSlide();
    });
</script>

<!-- CSRF —Ç–æ–∫–µ–Ω –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ñ–æ—Ä–º—ã -->
{% csrf_token %}

{% endblock %}
